{
  "title": "壹财宝被短信攻击总结",
  "cells": [
    {
      "type": "text",
      "data": "<b>短信验证码安全</b><br><ol><li>短信的安全基础在于验证码安全，如果图形验证码被绕过，短信验证码就会被轻易发送<br></li><li>短信发送接口需要对IP的发送频率做出限制</li><li>短信发送接口需要对Phone的发送频率做出限制</li><li>页面做出的发送频率限制基本是没有效果的</li></ol><div><b>短信验证码设计</b></div><div><ol><li>需要发送由用户发送短信的地方都需要图形验证码</li><li>在服务器针对每个IP发送频率做出限制（但是黑客仍然可以更换IP）</li><li>需要针对每个Phone做发送频率限制（但黑客可以不断更换手机）</li><li>通常需要结合两种方式来作出限制</li></ol></div>"
    },
    {
      "type": "text",
      "data": "<b>图形验证码安全</b><div><ol><li><b>图形验证码出现逻辑</b>不应该放在客户端，比如在Cookie中记录错误次数，攻击者可以使用不带Cookie的提交，那么验证码永远也不会出现</li><li><b>图形验证码出现逻辑</b>也不应放在session中，如果攻击者不带session攻击，那么服务器将拿不到任何session，那么永远也不会出现验证码</li><li>图形验证码不管验证成功还是失败，都不能被重复使用，否者图形验证码将是形同虚设</li><li>把验证码内容输出到客户端都是很不好的</li><li>更新验证码的内容不能交给客户端完成，攻击者可以拦截请求新的验证码的请求，这样客户端Session永远也不会更新内容，黑客就达到了多次使用同一个验证码的目的。</li><li>大型网站最好使用统一的安全验证码，各处使用同一个验证码接口</li></ol><div><b>图形验证码的设计</b></div></div><div><ol><li>尽量扭曲字符，避免机器引擎识别</li><li>例如登陆等页面，需要在一定的逻辑出现后才出现验证码的页面，控制验证码出现的逻辑放在服务器</li><li>验证码内容存放在缓存中，保证使用之后就会被删除，如果存放在数据中，黑客点击验证码就有可能撑爆数据库</li></ol></div>"
    }
  ]
}